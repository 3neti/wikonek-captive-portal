



<!-- [start] Checkin Landing Modal -->
<div
        class="modal-wrapper"
        x-data="egress('checkin')"
        x-on:keyup.escape.window="open = false"
        x-on:open-landing-free-modal.window="open = true; checkin = $event.detail.checkin"
        x-show="open"
>
    <div
            class="modal"
            style="margin: 30px auto;"
            x-on:click.outside="open = false"
    >
        <div
                class="header">
            <div class="logo w-48" style="margin: 0 auto 40px;"><img src="images/logo.png"/></div>
        </div><!-- header -->
        <div
                class="close-btn absolute right-[20px] top-[30px] bg-[#eeeeee]"
                x-on:click="open = false"
        >
            <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path clip-rule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      fill-rule="evenodd"/>
            </svg>
        </div><!-- close button -->
        <div class="content">
            <div class="text-center" style="width: 300px">
                <div style="width: 300px;">
                    <div class="mb-[30px] text-[15px]"><span x-text="checkin.airtime.toLocaleString() + ' minutes'"> </span> <span class="font-bold block" x-text="checkin.splash"></span></div>
                    <img :src="image" alt="lgu"/>
                    <div class="notice">
                        <div class="text-[15px] mt-[30px]">For inquiries or concerns, please visit:</div>
                        <div class="text-[15px] font-bold"><a href="https://wikonek.ph">wikonek.ph</a></div>
                    </div>
                    <div class="clear-both"></div>
                    <a class="button block mt-[30px]" :href="checkin.url_landing" x-text="caption"></a>
                </div>
            </div>
        </div><!-- content -->
    </div><!-- site-container -->
    <div class="clear-both"></div>
</div><!-- Checkin Landing Modal [end] -->


<!-- [start] Count Landing Modal -->
<div
        class="modal-wrapper"
        x-data="egress('count')"
        x-on:keyup.escape.window="open = false"
        x-on:open-landing-count-modal.window="open = true; count = $event.detail;"
        x-show="open"
>
    <div
            class="modal"
            style="margin: 30px auto;"
            x-on:click.outside="open = false"
            x-on:submit.prevent
    >
        <div class="header">
            <div class="logo w-48" style="margin: 0 auto 40px;"><img src="images/logo.png"/></div>
        </div><!-- header -->
        <div class="close-btn absolute right-[20px] top-[30px] bg-[#eeeeee]" x-on:click="open = false">
            <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path clip-rule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      fill-rule="evenodd"/>
            </svg>
        </div>
        <div class="content">
            <div class="text-center" style="width: 300px;">
                <div style="width: 300px;">
                    <div class="mb-[30px] text-[15px]"><span x-text="'â‚± ' + count.cumulative"> </span> <span class="font-bold block" x-text="message"></span>
                    </div>
                    <img :src="image" alt="splash"/>
                    <div class="notice">
                        <div class="text-[15px] mt-[30px]">For inquiries or concerns, please visit:</div>
                        <div class="text-[15px] font-bold"><a href="https://wikonek.ph">https://wikonek.ph</a></div>
                    </div>
                    <div class="clear-both"></div>
                    <a class="button block mt-[30px]" :href="landing" x-text="caption"></a>
                </div>
            </div>
        </div><!-- content -->
    </div><!-- site-container -->
    <div class="clear-both"></div>
</div><!-- Count Landing Modal [end] -->


<!-- [start] Purchase Landing Modal -->
<div
        class="modal-wrapper"
        x-data="egress('purchase')"
        x-on:keyup.escape.window="open = false"
        x-on:open-landing-purchase-modal.window="open = true; purchase = $event.detail.product"
        x-show="open"
>
    <div
            class="modal"
            style="margin: 30px auto;"
            x-on:click.outside="open = false"
            x-on:submit.prevent
    >
        <div class="header">
            <div class="logo w-48" style="margin: 0 auto 40px;"><img src="images/logo.png"/></div>
        </div><!-- header -->
        <div class="close-btn absolute right-[20px] top-[30px] bg-[#eeeeee]" x-on:click="open = false">
            <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                <path clip-rule="evenodd"
                      d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
                      fill-rule="evenodd"/>
            </svg>
        </div>
        <div class="content">
            <div class="text-center" style="width: 300px;">
                <div style="width: 300px;">
                    <div class="mb-[30px] text-[15px]">You are now connected with<span class="font-bold block"><span
                            class="amt" x-text="purchase.rate"></span> Credits</span></div>
                    <img :src="image" alt="splash"/>
                    <div class="notice">
                        <div class="text-[15px] mt-[30px]">For inquiries or concerns, please visit:</div>
                        <div class="text-[15px] font-bold"><a href="https://wikonek.ph">https://wikonek.ph</a></div>
                    </div>
                    <div class="clear-both"></div>
                    <a class="button block mt-[30px]" :href="landing" x-text="caption"></a>
                </div>
            </div>
        </div><!-- content -->
    </div><!-- site-container -->
    <div class="clear-both"></div>
</div><!-- Purchase Landing Modal [end] -->

<script>
    Alpine.data('egress', (operation) => ({
        open: false,
        checkin: {
            airtime: 0,
        },
        count: {
            cumulative: 0
        },
        purchase: {
            rate: 537,
        },
        get image() {
            switch (operation) {
                default:
                    return lguURL;
            }
        },
        get payload() {
            switch (operation) {
                case 'purchase':
                    return parseProductRate(Alpine.store('wikonek').data.purchase.product.rate);
            }
        },
        get message() {
            switch (operation) {
                case 'purchase':
                    return parseProductRate(Alpine.store('wikonek').data.purchase.product.rate);
                case 'count':
                    let airtime = null;
                    switch (this.count.cumulative) {
                        case '1': airtime = 10; break;
                        case '2': airtime = 20; break;
                        case '3': airtime = 30; break;
                        case '4': airtime = 40; break;
                        case '5': airtime = 60; break;
                        case '6': airtime = 70; break;
                        case '7': airtime = 80; break;
                        case '8': airtime = 90; break;
                        case '9': airtime = 100; break;
                        case '10': airtime = 240; break;
                        case '11': airtime = 250; break;
                        case '12': airtime = 260; break;
                        case '13': airtime = 270; break;
                        case '14': airtime = 280; break;
                        case '15': airtime = 300; break;
                        case '16': airtime = 310; break;
                        case '17': airtime = 320; break;
                        case '18': airtime = 330; break;
                        case '19': airtime = 340; break;
                        case '20': airtime = 24 * 60; break;
                        default: airtime = 0;
                    }
                    return airtime + ' minutes';
                default:
                    return 'The world is your oyster!';
            }
        },
        get landing() {
            switch (operation) {
                default:
                    return landingURL;
            }
        },
        get caption() {
            switch (operation) {
                default:
                    return 'Go!!!';
            }
        }
    }))
</script>

            <template x-data="dashboard('user')" x-if="$store.wikonek.modes & SHOW_USER">
 [start] User Page
            </template><!-- User Page [end] -->

<!------- [start] Manager Page ------->
<template
        x-data="dashboard('tindera')"
        x-if="$store.wikonek.modes & SHOW_MANAGER"
>
    <div
            class="site-container wrap p-4"
            id="dashboard-page-tindera"
            x-show="$store.wikonek.mode & SHOW_MANAGER"
    >
        <div class="header" style="max-width: 600px; margin: 5px auto;">
            <div class="logo float-left"><img class="wklogotindera" src="images/wklogo_full_tindera3.png"/></div>
            <div class="wallet-details float-right">
                <div class="wallet-balance float-left text-right pr-2" x-data="airtime">
                    <div class="text-[17px] font-bold"><span x-text="timeRemaining"></span></div>
                    <div class="text-[12px]">Remaining Time</div>
                </div>
                <div class="header-buttons float-right">
                    <button class="bg-[#eeeeee] p-2 rounded-full" x-data x-on:click="$dispatch('open-topup-modal')">
                        <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd"
                                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"
                                  fill-rule="evenodd"/>
                        </svg>
                    </button>
                    <button class="bg-[#eeeeee] p-2 rounded-full" x-data x-on:click="$dispatch('open-profile-modal')">
                        <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                  fill-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div><!-- header -->
        <div class="clear-both"></div>
        <div class="station-id" x-text="'Station ID: '+stationID"></div>
        <div class="content relative top-[20px]" style="width: 100%; max-width: 600px;">
            <div class="timer mb-[35px] bg-[#FE7D00] rounded grid grid-cols-1 gap-4 text-center p-4">
                <div class="timer-element">
                    <div class="time">â‚±<span x-text="loadRemaining"></span></div>
                    <div class="label text-white font-semibold text-sm" x-text="captions.balance"></div>
                </div>
            </div>
            <div class="text-[#FF0000] text-center mb-[35px]" style="font-weight: bold !important;" x-text="captions.replenish" x-show="replenish">
            </div>
            <div x-data="checkin">
                <div class="text-[#26580F] text-center mb-[35px]">
                    <div class="text-[#FF0000] text-center mb-[35px]" style="font-weight: bold !important;" x-text="captions.claimed" x-show="claimed"></div>
                    <a style="color: #26580F !important; font-weight: bold; cursor: pointer;" x-on:click="submit" x-show="unclaimed" x-text="captions.claim"></a>
                </div>
            </div>
            <div class="nav clear-both grid grid-cols-3 gap-5 mb-[30px]">
                <button x-on:click="$dispatch('open-count-modal')" x-show="canInsertCoin">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.707 7.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l2-2a1 1 0 00-1.414-1.414L11 7.586V3a1 1 0 10-2 0v4.586l-.293-.293z"/>
                        <path d="M3 5a2 2 0 012-2h1a1 1 0 010 2H5v7h2l1 2h4l1-2h2V5h-1a1 1 0 110-2h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5z"/>
                    </svg>
                    <span>Insert Coin</span>
                </button>
                <button x-show="!canInsertCoin">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="red-200">
                        <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd" />
                    </svg>
                    <span>Check Tindera</span>
                </button>
                <button x-data x-on:click="$dispatch('open-redeem-modal')">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"/>
                    </svg>
                    <span>Redeem Voucher</span>
                </button>
                <button x-data x-on:click="$dispatch('open-transfer-modal', {transferee: {name: '', mobile: '', amount: ''}})">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd"
                              d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z"
                              fill-rule="evenodd"/>
                    </svg>
                    <span>Transfer Load</span>
                </button>
            </div>
            <div x-data="transfer" x-show="$store.wikonek.data.ui.recipients && $store.wikonek.data.ui.recipients.length>0">
                <div class="font-bold text-[18px] title mb-[15px]">Recent Transactions</div>
                <div class="offers mb-[35px]" >
                    <template x-for="transferee in $store.wikonek.data.ui.recipients" :key=transferee.mobile>
                        <div class="product-offers grid grid-cols-2 gap-2">
                            <div class="item"><span x-text="'â‚±' + (+transferee.amount).toLocaleString()"></span><span x-text="transferee.mobile"></span>
                                <span x-text="transferee.name"></span></div>
                            <button class="buynow" x-data x-on:click="$dispatch('open-transfer-modal', {transferee})">Transfer Again
                            </button>
                        </div>
                    </template>
                </div>
            </div>
        </div><!-- content -->
    </div><!-- site-container -->
</template><!-- Manager Page [end] -->




<template
        x-data="dashboard('user')"
        x-if="$store.wikonek.modes & SHOW_USER"
>
    <!-- [start] User Page -->
    <div
            class="site-container wrap p-4"
            id="dashboard-page"
            x-show="$store.wikonek.mode & SHOW_USER"
    >
        <!-- [start] Header -->
        <div
                class="header"
                style="max-width: 600px; margin: 5px auto;">
            <div class="logo float-left"><img class="wklogo" src="images/logo.png"/></div>
            <div class="wallet-details float-right">
                <div class="wallet-balance float-left text-right pr-2">
                    <div class="text-[17px] font-bold">â‚±<span x-text="loadRemaining"></span></div>
                    <div class="text-[12px]" x-text="captions.balance"></div>
                </div>
                <div class="header-buttons float-right">
                    <button class="bg-[#eeeeee] p-2 rounded-full" x-data x-on:click="$dispatch('open-topup-modal')">
                        <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd"
                                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"
                                  fill-rule="evenodd"/>
                        </svg>
                    </button>
                    <button class="bg-[#eeeeee] p-2 rounded-full" x-data x-on:click="$dispatch('open-profile-modal')">
                        <svg class="h-7 w-7" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path clip-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z"
                                  fill-rule="evenodd"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div><!-- Header [end] -->
        <div class="clear-both"></div><!-- divider -->
        <div class="station-id" x-text="'Station ID: ' + stationID"></div><!-- station id -->
        <div class="content relative top-[20px]" style="width: 100%; max-width: 600px;">
            <!-- [start] Airtime -->
            <div
                    class="timer mb-[35px] bg-[#17A0DC] rounded grid grid-cols-4 gap-4 text-center p-4"
                    x-data="airtime"
            >
                <div class="timer-element">
                    <div class="time" x-text="days"></div>
                    <div class="label text-white font-semibold text-sm">Days</div>
                </div><!-- days -->
                <div class="timer-element">
                    <div class="time" x-text="hours"></div>
                    <div class="label text-white font-semibold text-sm">Hours</div>
                </div><!-- hours -->
                <div class="timer-element">
                    <div class="time" x-text="minutes"></div>
                    <div class="label text-white font-semibold text-sm">Minutes</div>
                </div><!-- minutes -->
                <div class="timer-element">
                    <div class="time" x-text="seconds"></div>
                    <div class="label text-white font-semibold text-sm">Seconds</div>
                </div><!-- seconds -->
            </div><!-- Airtime [end] -->
            <!-- [start] Checkin -->
            <div
                    x-data="checkin">
                <div class="text-[#FF0000] text-center mb-[35px]" style="font-weight: bold !important;" x-text="captions.claimed" x-show="claimed"></div>
                <div class="text-[#26580F] text-center mb-[35px]" x-show="unclaimed">
                    <a style="color: #26580F !important; font-weight: bold; cursor: pointer;" x-on:click="submit" x-text="captions.claim"></a>
                </div>
            </div><!-- Checkin [end] -->
            <!-- [start] Count Redeem Transfer -->
            <div
                    class="nav clear-both grid grid-cols-3 gap-5 mb-[30px]"
            >
                <button x-on:click="$dispatch('open-count-modal')" x-show="canInsertCoin">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.707 7.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l2-2a1 1 0 00-1.414-1.414L11 7.586V3a1 1 0 10-2 0v4.586l-.293-.293z"/>
                        <path d="M3 5a2 2 0 012-2h1a1 1 0 010 2H5v7h2l1 2h4l1-2h2V5h-1a1 1 0 110-2h1a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2V5z"/>
                    </svg>
                    <span>Insert Coin</span>
                </button>
                <button x-show="!canInsertCoin">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="red-200">
                        <path fill-rule="evenodd" d="M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z" clip-rule="evenodd" />
                    </svg>
                    <span>Check Tindera</span>
                </button>
                <button x-data x-on:click="redeem">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2 6a2 2 0 012-2h12a2 2 0 012 2v2a2 2 0 100 4v2a2 2 0 01-2 2H4a2 2 0 01-2-2v-2a2 2 0 100-4V6z"/>
                    </svg>
                    <span>Redeem Voucher</span>
                </button>
                <button x-data x-on:click="transfer">
                    <svg class="h-8 w-8" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                        <path clip-rule="evenodd"
                              d="M6 2a2 2 0 00-2 2v12a2 2 0 002 2h8a2 2 0 002-2V7.414A2 2 0 0015.414 6L12 2.586A2 2 0 0010.586 2H6zm2 10a1 1 0 10-2 0v3a1 1 0 102 0v-3zm2-3a1 1 0 011 1v5a1 1 0 11-2 0v-5a1 1 0 011-1zm4-1a1 1 0 10-2 0v7a1 1 0 102 0V8z"
                              fill-rule="evenodd"/>
                    </svg>
                    <span>Transfer Load</span>
                </button>
            </div><!-- Count Redeem Transfer [end] -->
            <!-- [start] Purchase -->
            <div
                    x-data="purchase"
                    x-show="canBuy"
            >
                <div class="font-bold text-[18px] title mb-[15px]" x-text="title"></div>
                <div class="offers mb-[35px]">
                    <template x-for="product in products" :key=product.code>
                        <template x-if="price(product.code) <= $store.wikonek.data.ui.balance.load.amount">
                            <div class="product-offers grid grid-cols-2 gap-2">
                                <div class="item"><span x-text="product.rate"></span><span x-text="product.name"></span></div>
                                <button class="buynow" x-data x-on:click="confirm(product.code)" x-text="caption"></button>
                            </div>
                        </template>
                    </template>
                </div>
            </div><!-- Purchase [end] -->
        </div><!-- content -->
    </div><!-- User Page [end] -->
</template>